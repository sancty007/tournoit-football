Pour ajuster la configuration de votre projet en tenant compte des nouvelles directives pour le Dockerfile du frontend (React), voici la configuration complète mise à jour :

### Structure des Répertoires et Fichiers

```
project-root/
│
├── backend/
│   ├── Dockerfile             # Dockerfile pour l'application Django
│   ├── requirements.txt       # Fichier requirements.txt pour les dépendances Python
│   ├── manage.py              # Fichier de gestion Django
│   ├── myapp/                 # Dossier de l'application Django (nom de votre choix)
│   │   ├── __init__.py
│   │   ├── settings.py
│   │   ├── urls.py
│   │   └── ...                # Autres fichiers Django
│   └── env/                   # Dossier de l'environnement virtuel Django
│
├── frontend/
│   ├── Dockerfile             # Dockerfile pour l'application React
│   ├── package.json           # Fichier package.json pour les dépendances React
│   ├── public/                # Dossier public de React
│   ├── src/                   # Dossier source de React
│   └── ...                    # Autres fichiers de configuration spécifiques à React
│
├── docker-compose.yml         # Fichier docker-compose pour définir les services Docker
└── README.md                  # Documentation du projet
```

### Configuration Docker pour le Backend Django (`backend/Dockerfile`)

```dockerfile
# Utiliser une image officielle Python comme image de base
FROM python:3.10

# Définir le répertoire de travail dans le conteneur
WORKDIR /app

# Copier les fichiers de l'application dans le conteneur
COPY . .

# Installer les dépendances
RUN pip install -r requirements.txt

# Exposer le port sur lequel l'application Django s'exécute
EXPOSE 8000

# Démarrer l'application Django
CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
```

### Configuration Docker pour le Frontend React (`frontend/Dockerfile`)

```dockerfile
# Use an official Node.js runtime as a parent image
FROM node:16

# Set the working directory in the container
WORKDIR /app

# Copy package.json and package-lock.json to the working directory
COPY package*.json ./

# Install app dependencies
RUN npm install

# Copy the rest of your application code to the working directory
COPY . .

# Expose a port to communicate with the React app
EXPOSE 5173

# Start your React app
CMD ["npm", "run", "dev"]
```

### Configuration Docker Compose (`docker-compose.yml`)

```yaml
version: "3.8"

services:
  backend:
    build:
      context: ./backend # Répertoire où se trouve le Dockerfile du backend
    ports:
      - "8000:8000" # Port pour accéder au serveur Django
    volumes:
      - ./backend:/app # Monter le répertoire du backend dans le conteneur
    environment:
      - PYTHONUNBUFFERED=1 # Variables d'environnement Django (optionnel)
    command: >
      bash -c "python manage.py makemigrations &&
               python manage.py migrate &&
               python manage.py runserver 0.0.0.0:8000"

  frontend:
    build:
      context: ./frontend # Répertoire où se trouve le Dockerfile du frontend
    ports:
      - "5173:5173" # Port pour accéder au serveur de développement React
    volumes:
      - ./frontend:/app # Monter le répertoire du frontend dans le conteneur
    environment:
      - REACT_APP_BACKEND_URL=http://backend:8000 # URL du backend pour la communication avec React

  oracle-db:
    image: container-registry.oracle.com/database/express:latest
    container_name: oracle-db
    ports:
      - "1521:1521" # Port pour accéder à la base de données Oracle
    environment:
      - ORACLE_PWD=welcome123

networks:
  default:
    external:
      name: bridge
```

### Configuration Django (`backend/myapp/settings.py`)

```python
"""
Django settings for backend project.

Generated by 'django-admin startproject' using Django 5.0.6.

For more information on this file, see
https://docs.djangoproject.com/en/5.0/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.0/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent

# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.0/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-ud9c26dq%)(#&5&v7_ifnocka!9vbvjvfs(amv0d5waz$#v&c('

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []

# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'api',
    'corsheaders',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
    'corsheaders.middleware.CorsMiddleware',
    'django.middleware.common.CommonMiddleware',
]

ROOT_URLCONF = 'backend.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'backend.wsgi.application'

# Database
# https://docs.djangoproject.com/en/5.0/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.oracle',
        'NAME': 'xe',
        'USER': 'system',
        'PASSWORD': 'welcome123',
        'HOST': 'oracle-db',
        'PORT': '1521',
    }
}

# Password validation
# https://docs.djangoproject.com/en/5.0/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]

# Internationalization
# https://docs.djangoproject.com/en/5.0/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True

# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.0/howto/static-files/

STATIC_URL = 'static/'

# Default primary key field type
# https://docs.djangoproject.com/en/5.0/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",
    "http://frontend:5173",
]
```

### Résumé et Utilisation

1. **Prérequis** :

   - Docker et Docker Compose doivent être installés sur votre machine.

2. **Configuration de Docker Compose** :

   - Placez-vous dans le répertoire `project-root`.
   - Créez et configurez les fichiers Dockerfile et docker-compose.yml comme mentionné ci-dessus.

3. **Démarrer les services** :

   - Exécutez la commande suivante pour démarrer tous les services :

     ```bash
     docker-compose up --build
     ```

4. **Accéder aux applications** :

   - Accédez à votre application React à `http://localhost:5173`.
   - Accédez à votre backend Django à `http://localhost:8000`.

5. **Accéder à la base de données Oracle** :
   - Utilisez un client SQL compatible pour vous connecter à la base de données Oracle en utilisant les informations de connexion fournies (host: `localhost`, port: `1521`, username: `system`, password: `welcome123`, SID: `xe`).

Cette configuration permet de développer et tester efficacement votre application frontend et backend, tout en utilisant une base de données Oracle, le tout orchestré par Docker Compose pour une gestion facile et isolée des dépendances et des environnements.
